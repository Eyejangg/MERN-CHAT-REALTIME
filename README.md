# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Backend API ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏∞‡∏ö‡∏ö (MERN Chat Backend)

## ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏£‡∏∞‡∏ö‡∏ö (System Update Log)

### 1. ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£ Auth ‡πÅ‡∏•‡∏∞ Middleware (`auth.middleware.js`)
*   **‡πÇ‡∏´‡∏•‡∏î Environment Variables**: ‡πÄ‡∏û‡∏¥‡πà‡∏° `require("dotenv").config()` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ `SECRET` ‡πÑ‡∏î‡πâ
*   **‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠ Cookie ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô**: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏´‡πâ Login ‡∏™‡πà‡∏á Cookie ‡∏ä‡∏∑‡πà‡∏≠ `jwt` ‡πÅ‡∏•‡∏∞ Middleware ‡∏≠‡πà‡∏≤‡∏ô‡∏à‡∏≤‡∏Å `req.cookies.jwt`
*   **‡πÅ‡∏Å‡πâ ReferenceError**: ‡∏•‡∏ö Code ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô
*   **‡πÄ‡∏û‡∏¥‡πà‡∏° Logs**: ‡πÉ‡∏™‡πà `console.error` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Debug ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô

### 2. ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Server Configuration (`index.js`)
*   **‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏ô‡∏≤‡∏î Request Body**: ‡∏õ‡∏£‡∏±‡∏ö `body-parser` ‡πÄ‡∏õ‡πá‡∏ô **50mb** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û Base64
*   **‡∏¢‡πâ‡∏≤‡∏¢‡∏•‡∏≥‡∏î‡∏±‡∏ö Middleware**: ‡∏¢‡πâ‡∏≤‡∏¢ `cookie-parser` ‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô Routes ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô Cookie ‡πÑ‡∏î‡πâ

### 3. ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Edit Profile (`controllers/user.Controller.js`)
*   **Cloudinary Upload**: ‡πÄ‡∏û‡∏¥‡πà‡∏° Logic ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Database
*   **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Model**: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å `User` ‡πÄ‡∏õ‡πá‡∏ô `UserModel` ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
*   **‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Logic**: ‡πÅ‡∏¢‡∏Å‡πÄ‡∏Ñ‡∏™‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï (‡∏ä‡∏∑‡πà‡∏≠+‡∏£‡∏π‡∏õ / ‡∏£‡∏π‡∏õ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß / ‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)
*   **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Syntax**: ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö `try-catch` ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### 4. ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå Logout & Check Auth
*   **Logout**: ‡∏¢‡πâ‡∏≤‡∏¢‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏¢‡∏Å ‡πÅ‡∏•‡∏∞‡∏™‡∏±‡πà‡∏á‡∏•‡∏ö Cookie `jwt`
*   **Check Auth**: ‡∏™‡∏£‡πâ‡∏≤‡∏á API `/check` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡πà‡∏≤ User ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠ Login ‡∏≠‡∏¢‡∏π‡πà)

---

## üöÄ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡∏î‡πâ‡∏ß‡∏¢ Postman

**Base URL**: `http://localhost:5000`

### 1. ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (Register)
*   **Method**: `POST`
*   **URL**: `{{Base_URL}}/api/v1/user/register`
*   **Body** (JSON):
    ```json
    {
      "fullname": "Test User",
      "email": "test@example.com",
      "password": "password123"
    }
    ```
*   **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "User registered successfully" ‡πÅ‡∏•‡∏∞‡πÑ‡∏î‡πâ Cookie `jwt` ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤

### 2. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö (Login)
*   **Method**: `POST`
*   **URL**: `{{Base_URL}}/api/v1/user/login`
*   **Body** (JSON):
    ```json
    {
      "email": "test@example.com",
      "password": "password123"
    }
    ```
*   **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**:
    *   ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö User ID ‡πÅ‡∏•‡∏∞ Token ‡πÉ‡∏ô Response Body
    *   **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç**: Postman ‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö Cookie ‡∏ä‡∏∑‡πà‡∏≠ `jwt` ‡πÑ‡∏ß‡πâ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏î‡∏π‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö Cookies)

### 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô (Check Auth)
*   **Method**: `GET`
*   **URL**: `{{Base_URL}}/api/v1/user/check`
*   **Auth**: ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° (‡πÉ‡∏ä‡πâ Cookie ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£ Login)
*   **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: ‡∏Ñ‡∏ß‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• JSON ‡∏Ç‡∏≠‡∏á User ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡πÄ‡∏ä‡πà‡∏ô `_id`, `fullname`, `email`)

### 4. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå (Update Profile)
*   **Method**: `PUT`
*   **URL**: `{{Base_URL}}/api/v1/user/update-profile`
*   **Body** (JSON):
    ```json
    {
      "fullname": "New Name",
      "profilePicture": "data:image/jpeg;base64,/9j/4AAQSkZJRg..." // ‡πÉ‡∏™‡πà Base64 String ‡∏Ç‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û
    }
    ```
    *   **Note**: ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏π‡∏õ‡πÄ‡∏õ‡πá‡∏ô Base64 ‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Frontend ‡∏™‡πà‡∏á‡∏°‡∏≤
*   **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• User ‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏•‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡∏∂‡πâ‡∏ô Cloudinary

### 5. ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö (Logout)
*   **Method**: `POST`
*   **URL**: `{{Base_URL}}/api/v1/user/logout`
*   **‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå**: Cookie `jwt` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡∏≠‡∏≠‡∏Å (Postman Cookie ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏)

---

## ‚ö†Ô∏è ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢ (Troubleshooting)

1.  **Unauthorized - No Token provided**:
    *   ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤ Browser/Postman ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏™‡πà‡∏á Cookie ‡πÑ‡∏õ‡πÉ‡∏´‡πâ Server
    *   **‡πÅ‡∏Å‡πâ‡∏ß‡∏¥‡∏ò‡∏µ**: ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á Login ‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡∏°‡∏µ Cookie ‡∏ä‡∏∑‡πà‡∏≠ `jwt` ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

2.  **PayloadTooLargeError**:
    *   ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û Base64 ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ
    *   **‡πÅ‡∏Å‡πâ‡∏ß‡∏¥‡∏ò‡∏µ**: Server ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ 50mb ‡πÅ‡∏•‡πâ‡∏ß ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏•‡∏≠‡∏á‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á

3.  **User Not Found**:
    *   ‡πÅ‡∏õ‡∏•‡∏ß‡πà‡∏≤ ID ‡πÉ‡∏ô Token ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö ID ‡πÉ‡∏ô Database
    *   **‡πÅ‡∏Å‡πâ‡∏ß‡∏¥‡∏ò‡∏µ**: ‡πÉ‡∏´‡πâ Logout ‡πÅ‡∏•‡πâ‡∏ß Login ‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Token ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
